<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Validar Nombre</title>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
</head>
<body>

  <h2>Ingresa tu nombre para validar</h2>
  <input id="nombre" placeholder="Tu nombre aquí" />
  <button onclick="validarNombre()">Entrar</button>

  <script>
    let listaNombres = [];

    // Cargar CSV
   Papa.parse('documentos/lista.csv', {
  download: true,
  header: false,
  complete: function(results) {
    listaNombres = results.data.flat().map(n => n.trim().toLowerCase());
    console.log("Nombres cargados:", listaNombres);
  },
  error: function(err) {
    console.error("Error cargando CSV:", err);
  }
});

    function validarNombre() {
      const nombreIngresado = document.getElementById('nombre').value.trim().toLowerCase();

      if (listaNombres.includes(nombreIngresado)) {
        // Nombre válido
        window.location.href = "index.html";
      } else {
        alert("Nombre no autorizado");
        // window.location.href = "rechaazados.html";
      }
    }
  </script>

</body>
</html>
